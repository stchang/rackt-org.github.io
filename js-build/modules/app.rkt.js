import * as $rjs_core from '../runtime/core.js';import * as M0 from "../rackt/main.rkt.js";import * as M1 from "../runtime/kernel.rkt.js";import * as M2 from "../links/racketscript-compiler/racketscript/private/interop.rkt.js";import * as M3 from "../collects/racket/private/kw.rkt.js";import * as M4 from "../collects/racket/match/runtime.rkt.js";import * as M5 from "../collects/racket/private/for.rkt.js";import * as M6 from "../runtime/unsafe.rkt.js";var Square = $rjs_core.attachProcedureArity(function(props1, ...__dot__dot_21) {if (arguments.length<1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var __dot__dot_2 = $rjs_core.Pair.listFromArray(__dot__dot_21);var __dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__4893 = M0.__lt_el;var temp14 = $rjs_core.UString.make("button");var temp25 = {'className':$rjs_core.UString.make("square"),'onClick':props1.onClick};var temp36 = props1.value;return M1.checked_procedure_check_and_extract(M3.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__4893,M3.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),4)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp25),temp14,temp36);});var _board = M1.vector(false,false,false,false,false,false,false,false,false);var LINES = $rjs_core.Pair.makeList($rjs_core.Pair.makeList(0,1,2),$rjs_core.Pair.makeList(3,4,5),$rjs_core.Pair.makeList(6,7,8),$rjs_core.Pair.makeList(0,3,6),$rjs_core.Pair.makeList(1,4,7),$rjs_core.Pair.makeList(2,5,8),$rjs_core.Pair.makeList(0,4,8),$rjs_core.Pair.makeList(2,4,6));var calculateWinner = function() {if (arguments.length!==0) {throw $rjs_core.racketContractError("arity mismatch");} else {}var let_result2 = M5.__rjs_quoted__.make_sequence($rjs_core.Pair.makeList($rjs_core.Symbol.make("L")),LINES);var pos__gt_vals7 = let_result2.getAt(0);var pos_pre_inc8 = let_result2.getAt(1);var pos_next9 = let_result2.getAt(2);var init10 = let_result2.getAt(3);var pos_cont_p11 = let_result2.getAt(4);var val_cont_p12 = let_result2.getAt(5);var all_cont_p13 = let_result2.getAt(6);M1.rvoid();var for_loop14 = function(result15, pos16) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (pos_cont_p11!==false) {var if_res3 = pos_cont_p11(pos16);} else {var if_res3 = true;}if (if_res3!==false) {var L20 = pos__gt_vals7(pos16);if (all_cont_p13!==false) {var if_res4 = function(pos21) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}return all_cont_p13(pos21,L20);};} else {var if_res4 = false;}var let_result5 = M1.values(L20,if_res4);var L17 = let_result5.getAt(0);var all_cont_p_by_pos18 = let_result5.getAt(1);if (pos_pre_inc8!==false) {var if_res6 = pos_pre_inc8(pos16);} else {var if_res6 = pos16;}var pos19 = if_res6;if (val_cont_p12!==false) {var if_res7 = val_cont_p12(L17);} else {var if_res7 = true;}if (if_res7!==false) {var result23 = result15;var temp528 = L17;var temp5629 = temp528;var fail730 = function() {if (arguments.length!==0) {throw $rjs_core.racketContractError("arity mismatch");} else {}return M4.match_error(temp5629,M4.syntax_srclocs(null),$rjs_core.Symbol.make("match-define"));};if (M1.pair_p(temp5629)!==false) {var unsafe_car931 = M6.unsafe_car(temp5629);var unsafe_cdr1032 = M6.unsafe_cdr(temp5629);if (M1.pair_p(unsafe_cdr1032)!==false) {var unsafe_car1333 = M6.unsafe_car(unsafe_cdr1032);var unsafe_cdr1434 = M6.unsafe_cdr(unsafe_cdr1032);if (M1.pair_p(unsafe_cdr1434)!==false) {var unsafe_car1735 = M6.unsafe_car(unsafe_cdr1434);var unsafe_cdr1836 = M6.unsafe_cdr(unsafe_cdr1434);if (M1.null_p(unsafe_cdr1836)!==false) {var c37 = unsafe_car1735;var b38 = unsafe_car1333;var a39 = unsafe_car931;var if_res8 = M1.values(a39,b38,c37);} else {var if_res8 = fail730();}var if_res9 = if_res8;} else {var if_res9 = fail730();}var if_res10 = if_res9;} else {var if_res10 = fail730();}var if_res11 = if_res10;} else {var if_res11 = fail730();}var let_result12 = if_res11;var a25 = let_result12.getAt(0);var b26 = let_result12.getAt(1);var c27 = let_result12.getAt(2);if (M1.equal_p(M1.vector_ref(_board,a25),M1.vector_ref(_board,b26))!==false) {if (M1.equal_p(M1.vector_ref(_board,b26),M1.vector_ref(_board,c27))!==false) {var if_res13 = M1.vector_ref(_board,a25);} else {var if_res13 = false;}var if_res14 = if_res13;} else {var if_res14 = false;}var result24 = if_res14;var result22 = M1.values(result24);if (all_cont_p_by_pos18!==false) {var if_res15 = all_cont_p_by_pos18(pos19);} else {var if_res15 = true;}if (if_res15!==false) {var if_res17 = M1.not($rjs_core.attachProcedureArity(function(...x4016) {var x40 = $rjs_core.Pair.listFromArray(x4016);return result22;})(L17));} else {var if_res17 = false;}if (if_res17!==false) {var if_res18 = M1.not(false);} else {var if_res18 = false;}if (if_res18!==false) {var if_res19 = for_loop14(result22,pos_next9(pos19));} else {var if_res19 = result22;}var if_res20 = if_res19;} else {var if_res20 = result15;}var if_res21 = if_res20;} else {var if_res21 = result15;}return if_res21;};return for_loop14(false,init10);};var Board = $rjs_core.attachProcedureArity(function(props41, ...__dot__dot_4222) {if (arguments.length<1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var __dot__dot_42 = $rjs_core.Pair.listFromArray(__dot__dot_4222);var let_result23 = M0.use_state(true);var __XisNext43 = let_result23.getAt(0);var set__XisNext_bang_44 = let_result23.getAt(1);var currentPlayer45 = function() {if (arguments.length!==0) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (__XisNext43!==false) {var if_res24 = $rjs_core.UString.make("X");} else {var if_res24 = $rjs_core.UString.make("O");}return if_res24;};var handleClick46 = function(i47) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var or_part48 = calculateWinner();if (or_part48!==false) {var if_res25 = or_part48;} else {var if_res25 = M1.vector_ref(_board,i47);}if (if_res25!==false) {var if_res26 = M1.rvoid();} else {M1.vector_set_bang_(_board,i47,currentPlayer45());var if_res26 = set__XisNext_bang_44(M1.not(__XisNext43));}return if_res26;};var renderSquare49 = function(i50) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var __dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__306051 = M0.__lt_el;var Square2452 = Square;var temp2553 = {'value':M1.vector_ref(_board,i50),'onClick':function(_54) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}return handleClick46(i50);}};return M1.checked_procedure_check_and_extract(M3.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__306051,M3.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),3)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp2553),Square2452);};var winner55 = calculateWinner();var temp31 = $rjs_core.UString.make("div");var __dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__331456 = M0.__lt_el;var temp2657 = $rjs_core.UString.make("div");var temp2758 = {'className':$rjs_core.UString.make("status")};if (winner55!==false) {var if_res29 = M1.string_append(winner55,$rjs_core.UString.make(" Wins!"));} else {var if_res29 = M1.string_append($rjs_core.UString.make("Current player: "),currentPlayer45());}var temp2859 = if_res29;var temp30 = M1.checked_procedure_check_and_extract(M3.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__331456,M3.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),4)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp2758),temp2657,temp2859);var __dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__350960 = M0.__lt_el;var temp2961 = $rjs_core.UString.make("div");var temp3062 = {'className':$rjs_core.UString.make("board-row")};var temp3163 = renderSquare49(0);var temp3264 = renderSquare49(1);var temp3365 = renderSquare49(2);var temp28 = M1.checked_procedure_check_and_extract(M3.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__350960,M3.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),6)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp3062),temp2961,temp3163,temp3264,temp3365);var __dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__365566 = M0.__lt_el;var temp3467 = $rjs_core.UString.make("div");var temp3568 = {'className':$rjs_core.UString.make("board-row")};var temp3669 = renderSquare49(3);var temp3770 = renderSquare49(4);var temp3871 = renderSquare49(5);var temp27 = M1.checked_procedure_check_and_extract(M3.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__365566,M3.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),6)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp3568),temp3467,temp3669,temp3770,temp3871);var __dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__380172 = M0.__lt_el;var temp3973 = $rjs_core.UString.make("div");var temp4074 = {'className':$rjs_core.UString.make("board-row")};var temp4175 = renderSquare49(6);var temp4276 = renderSquare49(7);var temp4377 = renderSquare49(8);return M0.__lt_el(temp31,temp30,temp28,temp27,M1.checked_procedure_check_and_extract(M3.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__380172,M3.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),6)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp4074),temp3973,temp4175,temp4276,temp4377));});var Game = function(props_dot_78, __dot__dot_79) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}var __dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__432580 = M0.__lt_el;var temp4481 = $rjs_core.UString.make("div");var temp4582 = {'className':$rjs_core.UString.make("game")};var __dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__437885 = M0.__lt_el;var temp4886 = $rjs_core.UString.make("div");var temp4987 = {'className':$rjs_core.UString.make("game-board")};var temp5088 = M0.__lt_el(Board);var temp4683 = M1.checked_procedure_check_and_extract(M3.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__437885,M3.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),4)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp4987),temp4886,temp5088);var __dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__446289 = M0.__lt_el;var temp5190 = $rjs_core.UString.make("div");var temp5291 = {'className':$rjs_core.UString.make("game-info")};var temp5392 = M0.__lt_el($rjs_core.UString.make("div"));var temp4784 = M1.checked_procedure_check_and_extract(M3.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__446289,M3.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),4)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp5291),temp5190,temp5392);return M1.checked_procedure_check_and_extract(M3.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__432580,M3.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),5)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp4582),temp4481,temp4683,temp4784);};M0.render(M0.__lt_el(Game),$rjs_core.UString.make("root"));var __rjs_quoted__ = {};__rjs_quoted__._board = _board;export { __rjs_quoted__ };