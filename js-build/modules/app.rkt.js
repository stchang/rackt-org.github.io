import * as $rjs_core from '../runtime/core.js';import * as M0 from "../rackt/main.rkt.js";import * as M1 from "../runtime/kernel.rkt.js";import * as M2 from "../links/racketscript-compiler/racketscript/private/interop.rkt.js";import * as M3 from "../collects/racket/private/kw.rkt.js";import * as M4 from "../collects/racket/match/runtime.rkt.js";import * as M5 from "../collects/racket/private/for.rkt.js";import * as M6 from "../runtime/unsafe.rkt.js";var Square = $rjs_core.attachProcedureArity(function(props1, ...__dot__dot_21) {if (arguments.length<1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var __dot__dot_2 = $rjs_core.Pair.listFromArray(__dot__dot_21);var __dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__4663 = M0.__lt_el;var temp14 = $rjs_core.UString.make("button");var temp25 = {'className':$rjs_core.UString.make("square"),'onClick':props1.onClick};var temp36 = props1.value;return M1.checked_procedure_check_and_extract(M3.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__4663,M3.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),4)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp25),temp14,temp36);});var calculateWinner = function(sqs7) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var LINES8 = $rjs_core.Pair.makeList($rjs_core.Pair.makeList(0,1,2),$rjs_core.Pair.makeList(3,4,5),$rjs_core.Pair.makeList(6,7,8),$rjs_core.Pair.makeList(0,3,6),$rjs_core.Pair.makeList(1,4,7),$rjs_core.Pair.makeList(2,5,8),$rjs_core.Pair.makeList(0,4,8),$rjs_core.Pair.makeList(2,4,6));var let_result2 = M5.__rjs_quoted__.make_sequence($rjs_core.Pair.makeList($rjs_core.Symbol.make("L")),LINES8);var pos__gt_vals9 = let_result2.getAt(0);var pos_pre_inc10 = let_result2.getAt(1);var pos_next11 = let_result2.getAt(2);var init12 = let_result2.getAt(3);var pos_cont_p13 = let_result2.getAt(4);var val_cont_p14 = let_result2.getAt(5);var all_cont_p15 = let_result2.getAt(6);M1.rvoid();var for_loop16 = function(result17, pos18) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (pos_cont_p13!==false) {var if_res3 = pos_cont_p13(pos18);} else {var if_res3 = true;}if (if_res3!==false) {var L22 = pos__gt_vals9(pos18);if (all_cont_p15!==false) {var if_res4 = function(pos23) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}return all_cont_p15(pos23,L22);};} else {var if_res4 = false;}var let_result5 = M1.values(L22,if_res4);var L19 = let_result5.getAt(0);var all_cont_p_by_pos20 = let_result5.getAt(1);if (pos_pre_inc10!==false) {var if_res6 = pos_pre_inc10(pos18);} else {var if_res6 = pos18;}var pos21 = if_res6;if (val_cont_p14!==false) {var if_res7 = val_cont_p14(L19);} else {var if_res7 = true;}if (if_res7!==false) {var result25 = result17;var temp530 = L19;var temp5631 = temp530;var fail732 = function() {if (arguments.length!==0) {throw $rjs_core.racketContractError("arity mismatch");} else {}return M4.match_error(temp5631,M4.syntax_srclocs(null),$rjs_core.Symbol.make("match-define"));};if (M1.pair_p(temp5631)!==false) {var unsafe_car933 = M6.unsafe_car(temp5631);var unsafe_cdr1034 = M6.unsafe_cdr(temp5631);if (M1.pair_p(unsafe_cdr1034)!==false) {var unsafe_car1335 = M6.unsafe_car(unsafe_cdr1034);var unsafe_cdr1436 = M6.unsafe_cdr(unsafe_cdr1034);if (M1.pair_p(unsafe_cdr1436)!==false) {var unsafe_car1737 = M6.unsafe_car(unsafe_cdr1436);var unsafe_cdr1838 = M6.unsafe_cdr(unsafe_cdr1436);if (M1.null_p(unsafe_cdr1838)!==false) {var c39 = unsafe_car1737;var b40 = unsafe_car1335;var a41 = unsafe_car933;var if_res8 = M1.values(a41,b40,c39);} else {var if_res8 = fail732();}var if_res9 = if_res8;} else {var if_res9 = fail732();}var if_res10 = if_res9;} else {var if_res10 = fail732();}var if_res11 = if_res10;} else {var if_res11 = fail732();}var let_result12 = if_res11;var a27 = let_result12.getAt(0);var b28 = let_result12.getAt(1);var c29 = let_result12.getAt(2);if (M1.equal_p(M1.vector_ref(sqs7,a27),M1.vector_ref(sqs7,b28))!==false) {if (M1.equal_p(M1.vector_ref(sqs7,b28),M1.vector_ref(sqs7,c29))!==false) {var if_res13 = M1.vector_ref(sqs7,a27);} else {var if_res13 = false;}var if_res14 = if_res13;} else {var if_res14 = false;}var result26 = if_res14;var result24 = M1.values(result26);if (all_cont_p_by_pos20!==false) {var if_res15 = all_cont_p_by_pos20(pos21);} else {var if_res15 = true;}if (if_res15!==false) {var if_res17 = M1.not($rjs_core.attachProcedureArity(function(...x4216) {var x42 = $rjs_core.Pair.listFromArray(x4216);return result24;})(L19));} else {var if_res17 = false;}if (if_res17!==false) {var if_res18 = M1.not(false);} else {var if_res18 = false;}if (if_res18!==false) {var if_res19 = for_loop16(result24,pos_next11(pos21));} else {var if_res19 = result24;}var if_res20 = if_res19;} else {var if_res20 = result17;}var if_res21 = if_res20;} else {var if_res21 = result17;}return if_res21;};return for_loop16(false,init12);};var Board = $rjs_core.attachProcedureArity(function(props43, ...__dot__dot_4422) {if (arguments.length<1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var __dot__dot_44 = $rjs_core.Pair.listFromArray(__dot__dot_4422);var let_result23 = M0.use_state(M1.vector(false,false,false,false,false,false,false,false,false));var __squares45 = let_result23.getAt(0);var set__squares_bang_46 = let_result23.getAt(1);var let_result24 = M0.use_state(true);var __XisNext47 = let_result24.getAt(0);var set__XisNext_bang_48 = let_result24.getAt(1);var currentPlayer49 = function() {if (arguments.length!==0) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (__XisNext47!==false) {var if_res25 = $rjs_core.UString.make("X");} else {var if_res25 = $rjs_core.UString.make("O");}return if_res25;};var handleClick50 = function(i51) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var or_part52 = calculateWinner(__squares45);if (or_part52!==false) {var if_res26 = or_part52;} else {var if_res26 = M1.vector_ref(__squares45,i51);}if (if_res26!==false) {var if_res27 = M1.rvoid();} else {M1.vector_set_bang_(__squares45,i51,currentPlayer49());var if_res27 = set__XisNext_bang_48(M1.not(__XisNext47));}return if_res27;};var renderSquare53 = function(i54) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var __dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__299055 = M0.__lt_el;var Square2456 = Square;var temp2557 = {'value':M1.vector_ref(__squares45,i54),'onClick':function(_58) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}return handleClick50(i54);}};return M1.checked_procedure_check_and_extract(M3.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__299055,M3.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),3)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp2557),Square2456);};var winner59 = calculateWinner(__squares45);if (winner59!==false) {var if_res28 = M1.string_append(winner59,$rjs_core.UString.make(" Wins!"));} else {var if_res28 = M1.string_append($rjs_core.UString.make("Current player: "),currentPlayer49());}var status60 = if_res28;var temp32 = $rjs_core.UString.make("div");var __dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__339861 = M0.__lt_el;var temp2662 = $rjs_core.UString.make("div");var temp2763 = {'className':$rjs_core.UString.make("status")};var status2864 = status60;var temp31 = M1.checked_procedure_check_and_extract(M3.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__339861,M3.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),4)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp2763),temp2662,status2864);var __dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__346165 = M0.__lt_el;var temp2966 = $rjs_core.UString.make("div");var temp3067 = {'className':$rjs_core.UString.make("board-row")};var temp3168 = renderSquare53(0);var temp3269 = renderSquare53(1);var temp3370 = renderSquare53(2);var temp30 = M1.checked_procedure_check_and_extract(M3.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__346165,M3.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),6)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp3067),temp2966,temp3168,temp3269,temp3370);var __dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__360771 = M0.__lt_el;var temp3472 = $rjs_core.UString.make("div");var temp3573 = {'className':$rjs_core.UString.make("board-row")};var temp3674 = renderSquare53(3);var temp3775 = renderSquare53(4);var temp3876 = renderSquare53(5);var temp29 = M1.checked_procedure_check_and_extract(M3.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__360771,M3.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),6)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp3573),temp3472,temp3674,temp3775,temp3876);var __dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__375377 = M0.__lt_el;var temp3978 = $rjs_core.UString.make("div");var temp4079 = {'className':$rjs_core.UString.make("board-row")};var temp4180 = renderSquare53(6);var temp4281 = renderSquare53(7);var temp4382 = renderSquare53(8);return M0.__lt_el(temp32,temp31,temp30,temp29,M1.checked_procedure_check_and_extract(M3.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__375377,M3.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),6)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp4079),temp3978,temp4180,temp4281,temp4382));});var Game = function(props_dot_83, __dot__dot_84) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}var __dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__427685 = M0.__lt_el;var temp4486 = $rjs_core.UString.make("div");var temp4587 = {'className':$rjs_core.UString.make("game")};var __dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__432990 = M0.__lt_el;var temp4891 = $rjs_core.UString.make("div");var temp4992 = {'className':$rjs_core.UString.make("game-board")};var temp5093 = M0.__lt_el(Board);var temp4688 = M1.checked_procedure_check_and_extract(M3.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__432990,M3.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),4)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp4992),temp4891,temp5093);var __dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__441394 = M0.__lt_el;var temp5195 = $rjs_core.UString.make("div");var temp5296 = {'className':$rjs_core.UString.make("game-info")};var temp5397 = M0.__lt_el($rjs_core.UString.make("div"));var temp4789 = M1.checked_procedure_check_and_extract(M3.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__441394,M3.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),4)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp5296),temp5195,temp5397);return M1.checked_procedure_check_and_extract(M3.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__427685,M3.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),5)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp4587),temp4486,temp4688,temp4789);};M0.render(M0.__lt_el(Game),$rjs_core.UString.make("root"));var __rjs_quoted__ = {};export { __rjs_quoted__ };