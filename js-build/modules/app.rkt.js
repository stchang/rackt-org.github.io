import * as $rjs_core from '../runtime/core.js';import * as M0 from "../rackt/main.rkt.js";import * as M1 from "../runtime/kernel.rkt.js";import * as M2 from "../links/racketscript-compiler/racketscript/private/interop.rkt.js";import * as M3 from "../collects/racket/private/kw.rkt.js";import * as M4 from "../collects/racket/match/runtime.rkt.js";import * as M5 from "../collects/racket/private/for.rkt.js";import * as M6 from "../runtime/unsafe.rkt.js";var Square = $rjs_core.attachProcedureArity(function(props1, ...__dot__dot_21) {if (arguments.length<1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var __dot__dot_2 = $rjs_core.Pair.listFromArray(__dot__dot_21);var __dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__4663 = M0.__lt_el;var temp14 = $rjs_core.UString.make("button");var temp25 = {'className':$rjs_core.UString.make("square"),'onClick':props1.onClick};var temp36 = props1.value;return M1.checked_procedure_check_and_extract(M3.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__4663,M3.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),4)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp25),temp14,temp36);});var calculateWinner = function(sqs7) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var LINES8 = $rjs_core.Pair.makeList($rjs_core.Pair.makeList(0,1,2),$rjs_core.Pair.makeList(3,4,5),$rjs_core.Pair.makeList(6,7,8),$rjs_core.Pair.makeList(0,3,6),$rjs_core.Pair.makeList(1,4,7),$rjs_core.Pair.makeList(2,5,8),$rjs_core.Pair.makeList(0,4,8),$rjs_core.Pair.makeList(2,4,6));var let_result2 = M5.__rjs_quoted__.make_sequence($rjs_core.Pair.makeList($rjs_core.Symbol.make("L")),LINES8);var pos__gt_vals9 = let_result2.getAt(0);var pos_pre_inc10 = let_result2.getAt(1);var pos_next11 = let_result2.getAt(2);var init12 = let_result2.getAt(3);var pos_cont_p13 = let_result2.getAt(4);var val_cont_p14 = let_result2.getAt(5);var all_cont_p15 = let_result2.getAt(6);M1.rvoid();var for_loop16 = function(result17, pos18) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (pos_cont_p13!==false) {var if_res3 = pos_cont_p13(pos18);} else {var if_res3 = true;}if (if_res3!==false) {var L22 = pos__gt_vals9(pos18);if (all_cont_p15!==false) {var if_res4 = function(pos23) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}return all_cont_p15(pos23,L22);};} else {var if_res4 = false;}var let_result5 = M1.values(L22,if_res4);var L19 = let_result5.getAt(0);var all_cont_p_by_pos20 = let_result5.getAt(1);if (pos_pre_inc10!==false) {var if_res6 = pos_pre_inc10(pos18);} else {var if_res6 = pos18;}var pos21 = if_res6;if (val_cont_p14!==false) {var if_res7 = val_cont_p14(L19);} else {var if_res7 = true;}if (if_res7!==false) {var result25 = result17;var temp530 = L19;var temp5631 = temp530;var fail732 = function() {if (arguments.length!==0) {throw $rjs_core.racketContractError("arity mismatch");} else {}return M4.match_error(temp5631,M4.syntax_srclocs(null),$rjs_core.Symbol.make("match-define"));};if (M1.pair_p(temp5631)!==false) {var unsafe_car933 = M6.unsafe_car(temp5631);var unsafe_cdr1034 = M6.unsafe_cdr(temp5631);if (M1.pair_p(unsafe_cdr1034)!==false) {var unsafe_car1335 = M6.unsafe_car(unsafe_cdr1034);var unsafe_cdr1436 = M6.unsafe_cdr(unsafe_cdr1034);if (M1.pair_p(unsafe_cdr1436)!==false) {var unsafe_car1737 = M6.unsafe_car(unsafe_cdr1436);var unsafe_cdr1838 = M6.unsafe_cdr(unsafe_cdr1436);if (M1.null_p(unsafe_cdr1838)!==false) {var c39 = unsafe_car1737;var b40 = unsafe_car1335;var a41 = unsafe_car933;var if_res8 = M1.values(a41,b40,c39);} else {var if_res8 = fail732();}var if_res9 = if_res8;} else {var if_res9 = fail732();}var if_res10 = if_res9;} else {var if_res10 = fail732();}var if_res11 = if_res10;} else {var if_res11 = fail732();}var let_result12 = if_res11;var a27 = let_result12.getAt(0);var b28 = let_result12.getAt(1);var c29 = let_result12.getAt(2);if (M1.not(M1.equal_p(typeof(sqs7[a27]),"undefined"))!==false) {if (M1.equal_p(sqs7[a27],sqs7[b28])!==false) {if (M1.equal_p(sqs7[b28],sqs7[c29])!==false) {var if_res13 = sqs7[a27];} else {var if_res13 = false;}var if_res14 = if_res13;} else {var if_res14 = false;}var if_res15 = if_res14;} else {var if_res15 = false;}var result26 = if_res15;var result24 = M1.values(result26);if (all_cont_p_by_pos20!==false) {var if_res16 = all_cont_p_by_pos20(pos21);} else {var if_res16 = true;}if (if_res16!==false) {var if_res18 = M1.not($rjs_core.attachProcedureArity(function(...x4217) {var x42 = $rjs_core.Pair.listFromArray(x4217);return result24;})(L19));} else {var if_res18 = false;}if (if_res18!==false) {var if_res19 = M1.not(false);} else {var if_res19 = false;}if (if_res19!==false) {var if_res20 = for_loop16(result24,pos_next11(pos21));} else {var if_res20 = result24;}var if_res21 = if_res20;} else {var if_res21 = result17;}var if_res22 = if_res21;} else {var if_res22 = result17;}return if_res22;};return for_loop16(false,init12);};var Board = $rjs_core.attachProcedureArity(function(props43, ...__dot__dot_4423) {if (arguments.length<1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var __dot__dot_44 = $rjs_core.Pair.listFromArray(__dot__dot_4423);var let_result24 = M0.use_state(new Array(9));var __squares45 = let_result24.getAt(0);var set__squares_bang_46 = let_result24.getAt(1);var let_result25 = M0.use_state(true);var __XisNext47 = let_result25.getAt(0);var set__XisNext_bang_48 = let_result25.getAt(1);var currentPlayer49 = function() {if (arguments.length!==0) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (__XisNext47!==false) {var if_res26 = $rjs_core.UString.make("X");} else {var if_res26 = $rjs_core.UString.make("O");}return if_res26;};var handleClick50 = function(i51) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var new_squares52 = __squares45.slice();var or_part53 = calculateWinner(new_squares52);if (or_part53!==false) {var if_res27 = or_part53;} else {var if_res27 = M1.not(M1.equal_p(typeof(new_squares52[i51]),"undefined"));}if (if_res27!==false) {var if_res28 = M1.rvoid();} else {new_squares52[i51] = currentPlayer49();set__squares_bang_46(new_squares52);var if_res28 = set__XisNext_bang_48(M1.not(__XisNext47));}return if_res28;};var renderSquare54 = function(i55) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var __dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__293956 = M0.__lt_el;var Square2457 = Square;var temp2558 = {'value':__squares45[i55],'onClick':function(_59) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}return handleClick50(i55);}};return M1.checked_procedure_check_and_extract(M3.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__293956,M3.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),3)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp2558),Square2457);};var winner60 = calculateWinner(__squares45);if (winner60!==false) {var if_res29 = M1.string_append(winner60,$rjs_core.UString.make(" Wins!"));} else {var if_res29 = M1.string_append($rjs_core.UString.make("Current player: "),currentPlayer49());}var status61 = if_res29;var temp33 = $rjs_core.UString.make("div");var __dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__333862 = M0.__lt_el;var temp2663 = $rjs_core.UString.make("div");var temp2764 = {'className':$rjs_core.UString.make("status")};var status2865 = status61;var temp32 = M1.checked_procedure_check_and_extract(M3.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__333862,M3.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),4)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp2764),temp2663,status2865);var __dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__340166 = M0.__lt_el;var temp2967 = $rjs_core.UString.make("div");var temp3068 = {'className':$rjs_core.UString.make("board-row")};var temp3169 = renderSquare54(0);var temp3270 = renderSquare54(1);var temp3371 = renderSquare54(2);var temp31 = M1.checked_procedure_check_and_extract(M3.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__340166,M3.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),6)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp3068),temp2967,temp3169,temp3270,temp3371);var __dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__354772 = M0.__lt_el;var temp3473 = $rjs_core.UString.make("div");var temp3574 = {'className':$rjs_core.UString.make("board-row")};var temp3675 = renderSquare54(3);var temp3776 = renderSquare54(4);var temp3877 = renderSquare54(5);var temp30 = M1.checked_procedure_check_and_extract(M3.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__354772,M3.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),6)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp3574),temp3473,temp3675,temp3776,temp3877);var __dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__369378 = M0.__lt_el;var temp3979 = $rjs_core.UString.make("div");var temp4080 = {'className':$rjs_core.UString.make("board-row")};var temp4181 = renderSquare54(6);var temp4282 = renderSquare54(7);var temp4383 = renderSquare54(8);return M0.__lt_el(temp33,temp32,temp31,temp30,M1.checked_procedure_check_and_extract(M3.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__369378,M3.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),6)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp4080),temp3979,temp4181,temp4282,temp4383));});var Game = function(props_dot_84, __dot__dot_85) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}var __dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__421686 = M0.__lt_el;var temp4487 = $rjs_core.UString.make("div");var temp4588 = {'className':$rjs_core.UString.make("game")};var __dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__426991 = M0.__lt_el;var temp4892 = $rjs_core.UString.make("div");var temp4993 = {'className':$rjs_core.UString.make("game-board")};var temp5094 = M0.__lt_el(Board);var temp4689 = M1.checked_procedure_check_and_extract(M3.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__426991,M3.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),4)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp4993),temp4892,temp5094);var __dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__435395 = M0.__lt_el;var temp5196 = $rjs_core.UString.make("div");var temp5297 = {'className':$rjs_core.UString.make("game-info")};var temp5398 = M0.__lt_el($rjs_core.UString.make("div"));var temp4790 = M1.checked_procedure_check_and_extract(M3.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__435395,M3.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),4)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp5297),temp5196,temp5398);return M1.checked_procedure_check_and_extract(M3.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_acktdemo_by_src_by_app_dot_rkt__421686,M3.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),5)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp4588),temp4487,temp4689,temp4790);};M0.render(M0.__lt_el(Game),$rjs_core.UString.make("root"));var __rjs_quoted__ = {};export { __rjs_quoted__ };