import * as $rjs_core from '../runtime/core.js';import * as M0 from "../rackt/main.rkt.js";import * as M1 from "../runtime/kernel.rkt.js";import * as M2 from "../links/racketscript-compiler/racketscript/private/interop.rkt.js";import * as M3 from "../collects/racket/private/list.rkt.js";import * as M4 from "../collects/racket/private/map.rkt.js";import * as M5 from "../links/racketscript-compiler/racketscript/interop.rkt.js";import * as M6 from "../collects/racket/private/kw.rkt.js";var mk_todo_item = function(id1182, text1183) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}return {'id':id1182,'text':text1183};};var mk_todo_list = $rjs_core.attachProcedureArity(function(...items1184680) {var items1184 = $rjs_core.Pair.listFromArray(items1184680);return {'todos':items1184};});var add_todo_item = function(todos1185, item1186) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}return {'todos':M1.append(todos1185.todos,M1.list(item1186))};};var remove_todo_item = function(todos1187, id1188) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}var item_has_id_p1189 = function(id1190, item1191) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}return M1.eq_p(id1190,item1191.id);};return {'todos':M3.remove(id1188,todos1187.todos,item_has_id_p1189)};};var INITIAL_TODOS = mk_todo_list(mk_todo_item(0,$rjs_core.UString.make("Replace JavaScript with RacketScript")),mk_todo_item(1,$rjs_core.UString.make("Install Rackt")),mk_todo_item(2,$rjs_core.UString.make("Enjoy!")));var TodoListContext = M0.create_context();var todo_app = $rjs_core.attachProcedureArity(function(props1192, ...__dot__dot_1193681) {if (arguments.length<1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var __dot__dot_1193 = $rjs_core.Pair.listFromArray(__dot__dot_1193681);var let_result684 = M0.use_reducer(function(state1196, action1197) {if (arguments.length!==2) {throw $rjs_core.racketContractError("arity mismatch");} else {}if (M1.eq_p(action1197.type,$rjs_core.UString.make("add"))!==false) {var if_res683 = add_todo_item(state1196,action1197.todo);} else {if (M1.eq_p(action1197.type,$rjs_core.UString.make("done"))!==false) {var if_res682 = remove_todo_item(state1196,action1197.id);} else {var if_res682 = state1196;}var if_res683 = if_res682;}return if_res683;},INITIAL_TODOS);var _store1194 = let_result684.getAt(0);var _dispatch1195 = let_result684.getAt(1);var __dot__dot__dot_tdemo_by_rackt_by_main_dot_rkt_97_71198 = M0.__lt_el;var temp41199 = TodoListContext.Provider;var temp51200 = {'value':{'store':_store1194,'dispatch':_dispatch1195}};var temp61201 = M0.__lt_el($rjs_core.UString.make("div"),M0.__lt_el(todo_input),M0.__lt_el(todo_list));return M1.checked_procedure_check_and_extract(M6.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_tdemo_by_rackt_by_main_dot_rkt_97_71198,M6.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),4)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp51200),temp41199,temp61201);});var todo_input = $rjs_core.attachProcedureArity(function(props1202, ...__dot__dot_1203685) {if (arguments.length<1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var __dot__dot_1203 = $rjs_core.Pair.listFromArray(__dot__dot_1203685);var ctx1204 = M0.use_context(TodoListContext);var store1205 = ctx1204.store;var dispatch1206 = ctx1204.dispatch;var let_result686 = M0.use_state($rjs_core.UString.make(""));var TEXT1207 = let_result686.getAt(0);var set_TEXT_bang_1208 = let_result686.getAt(1);var update_text1209 = function(e1210) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}return set_TEXT_bang_1208(M5.js_string__gt_string(e1210.target.value),TEXT1207);};var __dot__dot__dot_tdemo_by_rackt_by_main_dot_rkt_97_71211 = M0.__lt_el;var temp111212 = $rjs_core.UString.make("form");var temp121213 = {'onSubmit':function(e1215) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}e1215.preventDefault();dispatch1206({'type':$rjs_core.UString.make("add"),'todo':mk_todo_item(Date.now(),TEXT1207)});return set_TEXT_bang_1208($rjs_core.UString.make(""));}};var __dot__dot__dot_tdemo_by_rackt_by_main_dot_rkt_97_71216 = M0.__lt_el;var temp141217 = $rjs_core.UString.make("input");var temp151218 = {'className':$rjs_core.UString.make("todo-input"),'placeholder':$rjs_core.UString.make("What needs to be done?"),'value':TEXT1207,'onChange':update_text1209};var temp131214 = M1.checked_procedure_check_and_extract(M6.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_tdemo_by_rackt_by_main_dot_rkt_97_71216,M6.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),3)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp151218),temp141217);return M1.checked_procedure_check_and_extract(M6.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_tdemo_by_rackt_by_main_dot_rkt_97_71211,M6.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),4)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp121213),temp111212,temp131214);});var todo_list = $rjs_core.attachProcedureArity(function(props1219, ...__dot__dot_1220687) {if (arguments.length<1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var __dot__dot_1220 = $rjs_core.Pair.listFromArray(__dot__dot_1220687);var mk_todo_item_component1221 = function(todo1222) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var __dot__dot__dot_tdemo_by_rackt_by_main_dot_rkt_97_71223 = M0.__lt_el;var todo_item171224 = todo_item;var temp181225 = {'todo':todo1222};return M1.checked_procedure_check_and_extract(M6.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_tdemo_by_rackt_by_main_dot_rkt_97_71223,M6.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),3)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp181225),todo_item171224);};var ctx1226 = M0.use_context(TodoListContext);var store1227 = ctx1226.store;var dispatch1228 = ctx1226.dispatch;return M0.__lt_el($rjs_core.UString.make("ul"),M4.map(mk_todo_item_component1221,store1227.todos));});var todo_item = $rjs_core.attachProcedureArity(function(props1229, ...__dot__dot_1230688) {if (arguments.length<1) {throw $rjs_core.racketContractError("arity mismatch");} else {}var __dot__dot_1230 = $rjs_core.Pair.listFromArray(__dot__dot_1230688);var ctx1231 = M0.use_context(TodoListContext);var store1232 = ctx1231.store;var dispatch1233 = ctx1231.dispatch;var __dot__dot__dot_tdemo_by_rackt_by_main_dot_rkt_97_71234 = M0.__lt_el;var temp261235 = $rjs_core.UString.make("li");var temp271236 = {'className':$rjs_core.UString.make("todo-item")};var temp281237 = props1229.todo.text;var __dot__dot__dot_tdemo_by_rackt_by_main_dot_rkt_97_71239 = M0.__lt_el;var temp301240 = $rjs_core.UString.make("button");var temp311241 = {'type':$rjs_core.UString.make("button"),'className':$rjs_core.UString.make("button button-clear todo-done-button"),'onClick':function(_1243) {if (arguments.length!==1) {throw $rjs_core.racketContractError("arity mismatch");} else {}return dispatch1233({'type':$rjs_core.UString.make("done"),'id':props1229.todo.id});}};var temp321242 = $rjs_core.UString.make("âœ”");var temp291238 = M1.checked_procedure_check_and_extract(M6.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_tdemo_by_rackt_by_main_dot_rkt_97_71239,M6.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),4)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp311241),temp301240,temp321242);return M1.checked_procedure_check_and_extract(M6.__rjs_quoted__.struct_keyword_procedure,__dot__dot__dot_tdemo_by_rackt_by_main_dot_rkt_97_71234,M6.__rjs_quoted__.keyword_procedure_extract,$rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),5)($rjs_core.Pair.makeList($rjs_core.Keyword.make("props")),M1.list(temp271236),temp261235,temp281237,temp291238);});var __rjs_quoted__ = {};export { __rjs_quoted__,todo_app };